<!DOCTYPE html>
<html lang="fr" data-ui="auto">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Logarithmes â€“ Comprendre pour RÃ©ussir</title>

  <!-- Styles et script global -->
  <link rel="stylesheet" href="styles.css" />
  <script defer src="script.js"></script>
</head>

<body>
  <!-- Fond animÃ© -->
  <canvas class="bg"></canvas>

  <!-- Musique -->
  <div id="musicControl">
    <button id="toggleMusic">ğŸ”ˆ Musique</button>
    <audio id="bgMusic" loop>
      <source src="piano.mp3" type="audio/mpeg" />
    </audio>
  </div>

  <!-- Barre de navigation -->
  <nav>
    <div class="brand">
      <span class="ui-badge">Mode: <b id="uiModeBadge">auto</b></span>
      ğŸ“š Logarithmes
    </div>
    <div class="row">
      <a href="cours.html" class="btn accent">ğŸ“ Cours</a>
      <a href="exercices.html" class="btn">ğŸ§  QCM & Exercices</a>
      <a href="fiche.html" class="btn">ğŸ§¾ Fiche RÃ©vision</a>
      <a href="graph.html" class="btn">ğŸ“ˆ Graphique</a>
    </div>
  </nav>

  <!-- Contenu principal -->
  <div class="container">
    <section class="card" style="text-align:center;">
      <h1>Les logarithmes enfin expliquÃ©s simplement</h1>
      <p class="small">
        DÃ©finitions claires, formules essentielles, exercices corrigÃ©s et fiche express.<br>
        Apprends enfin Ã  comprendre, pas juste Ã  retenir.
      </p>

      <div class="row" style="justify-content:center; gap:14px; margin-top:14px;">
        <a href="cours.html" class="btn accent">ğŸ“ Commencer âœ</a>
        <a href="exercices.html" class="btn vert">ğŸ§  Sâ€™entraÃ®ner</a>
        <a href="fiche.html" class="btn">ğŸ“„ Fiche</a>
      </div>
    </section>

    <div class="grid">
      <div class="card">
        <h3>ğŸ“˜ Cours interactif</h3>
        <p class="small">DÃ©couvre les logarithmes Ã  ton rythme avec des explications simples et des exemples concrets.</p>
      </div>

      <div class="card">
        <h3>ğŸ§  QCM & Exercices</h3>
        <p class="small">Teste ta comprÃ©hension. Le prof virtuel (voix masculine belge) peut tâ€™expliquer chaque erreur.</p>
      </div>

      <div class="card">
        <h3>ğŸ“„ Fiche de rÃ©vision</h3>
        <p class="small">Les formules essentielles, les rÃ¨gles de base et les piÃ¨ges Ã  Ã©viter.</p>
      </div>

      <div class="card">
        <h3>ğŸ“ Certificat</h3>
        <p class="small">Ã€ la fin du QCM, ton score et ton nom apparaissent sur un diplÃ´me animÃ© Ã  imprimer.</p>
      </div>
    </div>
  </div>

  <!-- Calculatrice -->
  <div class="calc-btn">
    <button id="btnCalc" class="btn vert">ğŸ§® Calculatrice</button>
  </div>

  <div id="calcPanel" class="calc">
    <div class="calc-screen">
      <input id="calcIn" class="input" placeholder="ex: ln(10)/ln(2), 2^3, log(100)" />
    </div>
    <div class="calc-grid">
      <button class="calc-key" data-ins="ln(">ln</button>
      <button class="calc-key" data-ins="log(">log</button>
      <button class="calc-key" data-ins="sqrt(">âˆš</button>
      <button class="calc-key" data-ins="^">^</button>
      <button class="calc-key" data-ins="pi">Ï€</button>
      <button class="calc-key" data-ins="e">e</button>

      <button class="calc-key" data-ins="7">7</button>
      <button class="calc-key" data-ins="8">8</button>
      <button class="calc-key" data-ins="9">9</button>
      <button class="calc-key" data-ins="/">Ã·</button>
      <button class="calc-key" data-ins="(">(</button>
      <button class="calc-key" data-ins=")">)</button>

      <button class="calc-key" data-ins="4">4</button>
      <button class="calc-key" data-ins="5">5</button>
      <button class="calc-key" data-ins="6">6</button>
      <button class="calc-key" data-ins="*">Ã—</button>
      <button class="calc-key" data-ins="+">+</button>
      <button class="calc-key" data-ins="-">âˆ’</button>

      <button class="calc-key" data-ins="1">1</button>
      <button class="calc-key" data-ins="2">2</button>
      <button class="calc-key" data-ins="3">3</button>
      <button class="calc-key" data-ins="0">0</button>
      <button id="btnCalcClear" class="calc-key rouge">C</button>
      <button id="btnCalcEq" class="calc-key eq">=</button>
    </div>
    <div id="calcOut" class="calc-screen" style="margin-top:10px; min-height:30px;"></div>
  </div>

  <!-- Popup Choix PC/Mobile -->
  <div id="uiModal" style="position:fixed;inset:0;background:#0008;display:none;align-items:center;justify-content:center;z-index:15;padding:16px;">
    <div style="width:min(560px,96%);background:#101829;color:#eaf2ff;border:1px solid #1d2a44;border-radius:18px;box-shadow:0 10px 30px #0008;padding:18px;text-align:center;">
      <h3 style="margin:8px 0 2px;color:#ffd166;">Tu es sur quoi ?</h3>
      <p style="margin:4px 0 14px;color:#a9b6cc;">On adapte lâ€™interface pour ton confort.</p>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
        <button id="chooseMobile" class="btn">ğŸ“± Mobile</button>
        <button id="choosePC" class="btn">ğŸ–¥ï¸ PC</button>
      </div>
      <div class="small" style="margin-top:10px;">Tu pourras changer plus tard en cliquant sur le badge â€œModeâ€.</div>
    </div>
  </div>

  <!-- Pied de page -->
  <footer>
    Site crÃ©Ã© par <b>spilerix</b> â€“ pour comprendre avant de rÃ©ussir âš¡
  </footer>

  <!-- Script mode PC/Mobile -->
  <script>
    (function(){
      const modal = document.getElementById('uiModal');
      const badge = document.getElementById('uiModeBadge');
      const html  = document.documentElement;

      function apply(mode){
        localStorage.setItem('uiMode', mode);
        html.setAttribute('data-ui', mode);
        badge.textContent = mode;
      }

      badge.parentElement.addEventListener('click',()=> modal.style.display='flex');

      const saved = localStorage.getItem('uiMode');
      if(!saved){
        modal.style.display='flex';
        badge.textContent='auto';
      } else {
        apply(saved);
      }

      document.getElementById('chooseMobile').onclick = ()=>{apply('mobile'); modal.style.display='none';};
      document.getElementById('choosePC').onclick = ()=>{apply('pc'); modal.style.display='none';};
    })();
  </script>
</body>
</html>
