<!DOCTYPE html>
<html lang="fr" data-ui="auto">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Logarithmes â€“ Comprendre pour RÃ©ussir</title>

  <!-- Styles globaux -->
  <link rel="stylesheet" href="styles.css" />
  <!-- Script global: fond animÃ©, calculatrice (si prÃ©sente), bouton musique (si prÃ©sent) -->
  <script defer src="script.js"></script>

  <style>
    /* ====== Ajustements mobiles (en + de styles.css) ====== */
    .row { display: inline-flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    @media (max-width: 720px) {
      nav .inner .row a.btn { padding: 10px 12px; }
      h1 { font-size: 1.4rem; }
      .card { padding: 14px; }
    }

    /* ====== Popup Choix PC / Mobile ====== */
    .ui-modal {
      position: fixed; inset: 0; display: none;
      align-items: center; justify-content: center;
      background: rgba(0,0,0,.55); z-index: 20;
      padding: 16px;
    }
    .ui-modal.show { display: flex; }
    .ui-card {
      width: min(560px, 96%); background: #101829; color: #eaf2ff;
      border: 1px solid #1d2a44; border-radius: 18px; box-shadow: 0 10px 30px #0008;
      padding: 18px; text-align: center;
    }
    .ui-card h3 { margin: 8px 0 2px; color: var(--jaune, #ffd166); }
    .ui-card p { margin: 4px 0 14px; color: #a9b6cc; }
    .ui-choices { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .ui-option {
      background: #0b1423; border: 1px solid #1d2a44; border-radius: 14px; padding: 14px;
      cursor: pointer; transition: .2s; display: flex; flex-direction: column; gap: 6px;
    }
    .ui-option:hover { border-color: #8a7dff; transform: translateY(-2px); }
    .ui-option span { font-size: .9rem; color: #a9b6cc; }
    .ui-foot { margin-top: 10px; font-size: .85rem; color: #8aa0c9; }

    /* Badges UI en haut pour rappeler le mode */
    .ui-badge {
      display: inline-flex; align-items: center; gap: 8px;
      background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.12);
      padding: 6px 10px; border-radius: 999px; color: #a9b6cc; font-size: .85rem;
    }
    .ui-badge b { color: #eaf2ff; }

    /* Bouton musique (en haut Ã  droite) */
    #musicControl { position: fixed; top: 14px; right: 14px; z-index: 25; }
    #toggleMusic {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: #a88bff; border-radius: 999px; padding: 8px 14px; cursor: pointer;
      backdrop-filter: blur(6px); transition: .25s;
    }
    #toggleMusic:hover { background: rgba(168,139,255,.2); }

    /* Mini badge en nav */
    .brand { display: inline-flex; align-items: center; gap: 10px; }
  </style>
</head>

<body>
  <!-- Fond animÃ© -->
  <canvas class="bg"></canvas>

  <!-- ğŸ§ Musique (bouton en haut, volume doux) -->
  <div id="musicControl">
    <button id="toggleMusic">ğŸ”ˆ Musique</button>
    <audio id="bgMusic" loop>
      <source src="piano.mp3" type="audio/mpeg">
    </audio>
  </div>

  <!-- Barre de navigation -->
  <nav>
    <div class="inner">
      <div class="brand">
        <span class="ui-badge">Mode: <b id="uiModeBadge">auto</b></span>
        <div class="brand">ğŸ“š Logarithmes</div>
      </div>
      <div class="row">
        <a href="cours.html" class="btn accent">ğŸ“ Cours</a>
        <a href="exercices.html" class="btn">ğŸ§  QCM & Exercices</a>
        <a href="fiche.html" class="btn">ğŸ§¾ Fiche RÃ©vision</a>
        <a href="graph.html" class="btn">ğŸ“ˆ Graphique</a>
      </div>
    </div>
  </nav>

  <!-- Contenu principal -->
  <div class="container">
    <section class="card" style="text-align:center;">
      <h1>Les logarithmes enfin expliquÃ©s simplement</h1>
      <p style="color:#a9b6cc;">
        Comprends tout, Ã©tape par Ã©tape : dÃ©finitions, rÃ¨gles, exercices et astuces.  
        Apprends facilement ce que personne nâ€™a su tâ€™expliquer avant. ğŸ’¡
      </p>

      <div class="row" style="justify-content:center; gap:14px; margin-top:16px;">
        <a href="cours.html" class="btn accent">Commencer le cours âœ</a>
        <a href="exercices.html" class="btn vert">Faire des exercices</a>
        <a href="fiche.html" class="btn">Voir la fiche</a>
      </div>
    </section>

    <!-- AperÃ§u du contenu -->
    <div class="grid">
      <div class="card">
        <h3>ğŸ“˜ Cours interactif</h3>
        <p>DÃ©couvre les logarithmes de faÃ§on claire et progressive, avec des animations et exemples concrets.</p>
      </div>

      <div class="card">
        <h3>ğŸ§  QCM & Exercices</h3>
        <p>Teste ta comprÃ©hension avec des QCM et des corrections dÃ©taillÃ©es Ã  chaque erreur (voix masculine belge en option).</p>
      </div>

      <div class="card">
        <h3>ğŸ“„ Fiche de rÃ©vision</h3>
        <p>Les formules essentielles, les piÃ¨ges Ã  Ã©viter et les astuces Ã  retenir juste avant ton contrÃ´le.</p>
      </div>

      <div class="card">
        <h3>ğŸ“ Certificat</h3>
        <p>Ã€ la fin du test : score animÃ©, saisie de ton nom, et diplÃ´me premium Ã  imprimer.</p>
      </div>
    </div>
  </div>

  <!-- Bouton calculatrice (optionnel si tu veux aussi ici) -->
  <div class="calc-btn">
    <button id="btnCalc" class="btn vert">ğŸ§® Calculatrice</button>
  </div>

  <!-- Calculatrice flottante -->
  <div id="calcPanel" class="calc">
    <div class="calc-screen">
      <input id="calcIn" class="input" placeholder="ex: ln(10)/ln(2), 2^3, log(100)" />
    </div>
    <div class="calc-grid">
      <button class="calc-key" data-ins="ln(">ln</button>
      <button class="calc-key" data-ins="log(">log</button>
      <button class="calc-key" data-ins="sqrt(">âˆš</button>
      <button class="calc-key" data-ins="^">^</button>
      <button class="calc-key" data-ins="pi">Ï€</button>
      <button class="calc-key" data-ins="e">e</button>

      <button class="calc-key" data-ins="7">7</button>
      <button class="calc-key" data-ins="8">8</button>
      <button class="calc-key" data-ins="9">9</button>
      <button class="calc-key" data-ins="/">Ã·</button>
      <button class="calc-key" data-ins="(">(</button>
      <button class="calc-key" data-ins=")">)</button>

      <button class="calc-key" data-ins="4">4</button>
      <button class="calc-key" data-ins="5">5</button>
      <button class="calc-key" data-ins="6">6</button>
      <button class="calc-key" data-ins="*">Ã—</button>
      <button class="calc-key" data-ins="+">+</button>
      <button class="calc-key" data-ins="-">âˆ’</button>

      <button class="calc-key" data-ins="1">1</button>
      <button class="calc-key" data-ins="2">2</button>
      <button class="calc-key" data-ins="3">3</button>
      <button class="calc-key" data-ins="0">0</button>
      <button id="btnCalcClear" class="calc-key rouge">C</button>
      <button id="btnCalcEq" class="calc-key eq">=</button>
    </div>
    <div id="calcOut" class="calc-screen" style="margin-top:10px; min-height:30px;"></div>
  </div>

  <!-- Popup de choix PC/Mobile -->
  <div id="uiModal" class="ui-modal">
    <div class="ui-card">
      <h3>Tu es sur quoi ?</h3>
      <p>On adapte lâ€™interface pour que tout soit plus confortable.</p>
      <div class="ui-choices">
        <button class="ui-option" id="chooseMobile">
          ğŸ“± <b>Mobile</b>
          <span>Touch + gros boutons + colonnes compactes</span>
        </button>
        <button class="ui-option" id="choosePC">
          ğŸ–¥ï¸ <b>PC</b>
          <span>Plus dâ€™espace + grilles larges + raccourcis clavier</span>
        </button>
      </div>
      <div class="ui-foot">Tu pourras changer plus tard depuis le badge en haut.</div>
    </div>
  </div>

  <!-- Pied de page -->
  <footer>
    Site crÃ©Ã© par <span>spilerix</span> â€“ pour comprendre avant de rÃ©ussir âš¡
  </footer>

  <script>
    /* ====== Gestion du choix PC / Mobile ====== */
    (function uiChooser(){
      const modal = document.getElementById('uiModal');
      const badge = document.getElementById('uiModeBadge');
      const html  = document.documentElement;

      function apply(mode){
        // mode: 'mobile' | 'pc'
        localStorage.setItem('uiMode', mode);
        html.setAttribute('data-ui', mode);
        badge.textContent = mode;
        // tweaks simples (tu peux affiner dans styles.css avec [data-ui="mobile"] ...)
        if (mode === 'mobile') {
          document.body.style.setProperty('--arrondi', '18px');
        } else {
          document.body.style.setProperty('--arrondi', '18px');
        }
      }

      // Badge cliquable pour re-choisir
      badge.parentElement.addEventListener('click', ()=>{
        modal.classList.add('show');
      });

      // Premier dÃ©marrage : si pas de prÃ©fÃ©rence, on affiche
      const saved = localStorage.getItem('uiMode');
      if (!saved) {
        modal.classList.add('show');
        badge.textContent = 'auto';
      } else {
        apply(saved);
      }

      // Choix boutons
      document.getElementById('chooseMobile').onclick = ()=>{
        apply('mobile'); modal.classList.remove('show');
      };
      document.getElementById('choosePC').onclick = ()=>{
        apply('pc'); modal.classList.remove('show');
      };
    })();
  </script>
</body>
</html>
