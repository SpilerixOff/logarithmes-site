<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Exercices â€“ Logarithmes</title>

  <!-- Styles globaux -->
  <link rel="stylesheet" href="styles.css" />

  <!-- QCM (questions, voix, certificat) -->
  <script defer src="script_qcm.js"></script>

  <!-- Script commun (fond animÃ©, calculatrice si prÃ©sente, musique) -->
  <script defer src="script.js"></script>

  <style>
    /* Ajustements spÃ©cifiques Ã  la page */
    h1 { margin: 0 0 6px; }
    #quizBox h2 { margin-top: 0; }

    /* Bande d'aide repliable (mobile-friendly) */
    details.tips { background: rgba(255,255,255,.05); border:1px solid #1d2a44; border-radius:12px; padding:12px; }
    details.tips > summary { cursor:pointer; list-style:none; font-weight:700; color:#a88bff; }
    details.tips > summary::-webkit-details-marker { display:none; }
    details.tips p, details.tips ul { margin:.5rem 0 0 0; }

    /* Surlignage pour lâ€™Ã©tat â€œnon rÃ©ponduâ€ quand on clique Suivant */
    #nextQuestion.attn { box-shadow:0 0 12px #67ddb5 !important; transform:scale(1.04); }
  </style>
</head>
<body>
  <!-- Fond animÃ© -->
  <canvas class="bg"></canvas>

  <!-- Musique (tolÃ©rante si piano.mp3 absent) -->
  <div id="musicControl">
    <button id="toggleMusic">ğŸ”ˆ Musique</button>
    <audio id="bgMusic" loop>
      <source src="piano.mp3" type="audio/mpeg" />
    </audio>
  </div>

  <!-- Navigation -->
  <nav>
    <div class="brand">ğŸ§  Exercices Logarithmes</div>
    <div class="row">
      <a href="index.html" class="btn">ğŸ  Accueil</a>
      <a href="cours.html" class="btn">ğŸ“˜ Cours</a>
      <a href="fiche.html" class="btn">ğŸ“„ Fiche</a>
      <a href="graph.html" class="btn">ğŸ“ˆ Graphique</a>
    </div>
  </nav>

  <!-- Contenu -->
  <div class="container">
    <section class="card" style="text-align:center;">
      <h1>Teste ta comprÃ©hension</h1>
      <p class="small">
        RÃ©ponds Ã  chaque question, puis clique <b>Suivant</b>.  
        Tu peux activer la <b>voix masculine</b> (bouton ğŸ”Š) pour Ã©couter les explications orales.
      </p>
    </section>

    <div id="quizBox" class="card" role="region" aria-label="QCM Logarithmes">
      <h2 id="questionTitle">Chargementâ€¦</h2>

      <!-- Options gÃ©nÃ©rÃ©es par script_qcm.js -->
      <div id="options" aria-live="polite"></div>

      <!-- Feedback (explication) -->
      <div id="feedback" class="feedback" aria-live="polite"></div>

      <!-- Commandes -->
      <div class="row" style="margin-top:14px;justify-content:space-between;">
        <button id="toggleVoice" class="btn" type="button" aria-pressed="false" title="Activer/DÃ©sactiver la voix masculine">
          ğŸ”Š Activer la voix
        </button>
        <button id="nextQuestion" class="btn vert" type="button" title="Passer Ã  la question suivante">
          â¡ï¸ Suivant
        </button>
      </div>

      <div id="progress" class="small" style="margin-top:8px;text-align:center;opacity:.85"></div>
    </div>

    <!-- Bande dâ€™aide repliable -->
    <section class="card">
      <details class="tips" open>
        <summary>ğŸ§© Astuces rapides (ouvrir/fermer)</summary>
        <ul class="small" style="margin:6px 0 0 18px;">
          <li><b>Produit</b> : log(xy) = log x <b>+</b> log y</li>
          <li><b>Quotient</b> : log(x/y) = log x <b>âˆ’</b> log y</li>
          <li><b>Puissance</b> : log(x^r) = <b>r</b> Â· log x</li>
          <li><b>Changement de base</b> : logâ‚(x) = ln(x)/ln(a)</li>
          <li><b>Domaine</b> : argument du log strictement <b>positif</b></li>
        </ul>
      </details>
    </section>
  </div>

  <!-- Pied de page -->
  <footer>
    Site crÃ©Ã© par <b>spilerix</b> â€“ pour comprendre avant de rÃ©ussir âš¡
  </footer>

  <script>
    // Mini-sÃ©curitÃ© visuelle si on clique "Suivant" avant de rÃ©pondre
    const btnNext = document.getElementById('nextQuestion');
    const optionsBox = document.getElementById('options');
    if (btnNext && optionsBox) {
      btnNext.addEventListener('click', () => {
        // script_qcm.js gÃ¨re le vrai contrÃ´le; ici on ne fait quâ€™un petit effet
        if (!optionsBox.querySelector('.correct') && !optionsBox.querySelector('.wrong')) {
          btnNext.classList.add('attn');
          setTimeout(()=>btnNext.classList.remove('attn'), 220);
        }
      });
    }
  </script>
</body>
</html>
